# ุฏููู ูุถุน ุงูุงุฎุชุจุงุฑ

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุถุงูุฉ ูุถุน ุงูุงุฎุชุจุงุฑ ููุณูุงุญ ุจุงุฎุชุจุงุฑ ููุงููุงุช ุงูููุฏูู ูุงูุญุฌุฒ ุฏูู ุงูุญุงุฌุฉ ููุฏูุน ุฃู ุงูุชุธุงุฑ 24 ุณุงุนุฉ.

## ุงููููุงุช ุงููุนุฏูุฉ

1. **`lib/config/test_config.dart`**: ููู ุฅุนุฏุงุฏุงุช ุงูุงุฎุชุจุงุฑ
2. **`lib/screens/appointments/appointment_details_screen.dart`**: ุชุนุฏูู ุงูุชุญูู ูู ุจุฏุก ููุงููุฉ ุงูููุฏูู
3. **`lib/screens/appointments/book_appointment_screen.dart`**: ุชุนุฏูู ุงูุชุญูู ูู ููุช ุงูุญุฌุฒ

## ุงูุฅุนุฏุงุฏุงุช ุงููุชุงุญุฉ

### `enableTestMode`
- **ุงููุตู**: ุชูุนูู/ุชุนุทูู ูุถุน ุงูุงุฎุชุจุงุฑ ุจุดูู ุนุงู
- **ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ**: `true`
- **ุงูุชุฃุซูุฑ**: ุนูุฏ ุชูุนูููุ ูุชู ุชูุนูู ุฌููุน ููุฒุงุช ุงูุงุฎุชุจุงุฑ

### `bypassPaymentCheck`
- **ุงููุตู**: ุชุฌุงูุฒ ุงูุชุญูู ูู ุงูุฏูุน ููุณูุงุญ ุจููุงููุงุช ุงูููุฏูู ุฏูู ุฏูุน
- **ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ**: `true`
- **ุงูุชุฃุซูุฑ**: ุนูุฏ ุชูุนูููุ ูููู ุจุฏุก ููุงููุฉ ุงูููุฏูู ุญุชู ูู ูู ูุชู ุงูุฏูุน

### `allowBookingAfter10Minutes`
- **ุงููุตู**: ุงูุณูุงุญ ุจุญุฌุฒ ุงูููุงุนูุฏ ุจุนุฏ 10 ุฏูุงุฆู ููุท ูู ุงูุขู
- **ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ**: `true`
- **ุงูุชุฃุซูุฑ**: ุนูุฏ ุชูุนูููุ ูููู ุญุฌุฒ ููุนุฏ ุจุนุฏ 10 ุฏูุงุฆู ููุท (ุจุฏูุงู ูู 24 ุณุงุนุฉ)

### `minimumMinutesBeforeAppointment`
- **ุงููุตู**: ุงูุญุฏ ุงูุฃุฏูู ููุฏูุงุฆู ูุจู ุงูููุนุฏ ููุญุฌุฒ (ุนูุฏ ุชูุนูู `allowBookingAfter10Minutes`)
- **ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ**: `10`

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุชูุนูู ูุถุน ุงูุงุฎุชุจุงุฑ

ุงูุชุญ `lib/config/test_config.dart` ูุนุฏูู ุงูุฅุนุฏุงุฏุงุช:

```dart
class TestConfig {
  static const bool enableTestMode = true;  // ุชูุนูู ูุถุน ุงูุงุฎุชุจุงุฑ
  static const bool bypassPaymentCheck = true;  // ุชุฌุงูุฒ ุงูุฏูุน
  static const bool allowBookingAfter10Minutes = true;  // ุงูุณูุงุญ ุจุงูุญุฌุฒ ุจุนุฏ 10 ุฏูุงุฆู
}
```

### 2. ุงุฎุชุจุงุฑ ููุงููุฉ ุงูููุฏูู ุจุฏูู ุฏูุน

1. ุฃูุดุฆ ููุนุฏ ูู ููุน VIDEO
2. ุชุฃูุฏ ูู ุฃู ุงูููุนุฏ ูุคูุฏ (CONFIRMED)
3. ุงูุชุธุฑ ุญุชู 10 ุฏูุงุฆู ูุจู ุงูููุนุฏ (ุฃู ุงุณุชุฎุฏู `allowBookingAfter10Minutes` ูุงุฎุชุจุงุฑ ููุฑู)
4. ุงุถุบุท ุนูู ุฒุฑ "ุจุฏุก ููุงููุฉ ุงูููุฏูู"
5. ูุฌุจ ุฃู ุชุนูู ุงูููุงููุฉ ุญุชู ูู ูู ูุชู ุงูุฏูุน

### 3. ุงุฎุชุจุงุฑ ุงูุญุฌุฒ ุจุนุฏ 10 ุฏูุงุฆู

1. ุงูุชุญ ุดุงุดุฉ ุญุฌุฒ ููุนุฏ ุฌุฏูุฏ
2. ุงุฎุชุฑ ุทุจูุจ ูุฎุฏูุฉ
3. ุงุฎุชุฑ ููุน ุงูููุนุฏ (VIDEO)
4. ุงุฎุชุฑ ุชุงุฑูุฎ ุงูููู (ุฅุฐุง ูุงู `allowBookingAfter10Minutes` ููุนู)
5. ุงุฎุชุฑ ููุช ุจุนุฏ 10 ุฏูุงุฆู ุนูู ุงูุฃูู ูู ุงูุขู
6. ุฃููู ุงูุญุฌุฒ

## ููุงุญุธุงุช ูููุฉ

### โ๏ธ ุชุญุฐูุฑุงุช

1. **ูุง ุชุณุชุฎุฏู ูู ุงูุฅูุชุงุฌ**: ูุฌุจ ุชุนุทูู `enableTestMode` ูู ุงูุฅูุชุงุฌ
2. **ุงูุจุงููุฏ**: ูุฏ ูุญุชุงุฌ ุงูุจุงููุฏ ุฃูุถุงู ุฅูู ุชุนุฏููุงุช ุฅุฐุง ูุงู ูุชุญูู ูู ููุช ุงูุญุฌุฒ
3. **ุงููุชุญุงุช ุงููุชุงุญุฉ**: ูุฌุจ ุฃู ูููู ูุฏู ุงูุทุจูุจ ูุชุญุงุช ูุชุงุญุฉ ุจุนุฏ 10 ุฏูุงุฆู ูู ุฌุฏููู

### ๐ง ุงูุชุนุฏููุงุช ุงููุทููุจุฉ ูู ุงูุจุงููุฏ (ุงุฎุชูุงุฑู)

ุฅุฐุง ูุงู ุงูุจุงููุฏ ูุชุญูู ูู ููุช ุงูุญุฌุฒ (ูุซูุงู: ูุฌุจ ุฃู ูููู ุจุนุฏ 24 ุณุงุนุฉ)ุ ููููู:

1. ุฅุถุงูุฉ header ููุทูุจุงุช ูู ูุถุน ุงูุงุฎุชุจุงุฑ
2. ุฃู ุชุนุฏูู `appointment.service.ts` ููุณูุงุญ ุจุงูุญุฌุฒ ุจุนุฏ 10 ุฏูุงุฆู ูู ูุถุน ุงูุงุฎุชุจุงุฑ

ูุซุงู ุนูู ุชุนุฏูู ุงูุจุงููุฏ:

```typescript
// ูู appointment.service.ts
async createAppointment(...) {
  const startAt = dayjs(createDto.startAt).utc().toDate();
  const now = dayjs();
  const minutesUntilStart = dayjs(startAt).diff(now, 'minute');
  
  // ูู ูุถุน ุงูุงุฎุชุจุงุฑ: ุงูุณูุงุญ ุจุนุฏ 10 ุฏูุงุฆู
  const isTestMode = req.headers['x-test-mode'] === 'true';
  const minimumMinutes = isTestMode ? 10 : 24 * 60; // 10 ุฏูุงุฆู ุฃู 24 ุณุงุนุฉ
  
  if (minutesUntilStart < minimumMinutes) {
    throw new BadRequestException(
      `ูุฌุจ ุญุฌุฒ ุงูููุนุฏ ูุจู ${minimumMinutes} ุฏูููุฉ ุนูู ุงูุฃูู`
    );
  }
  
  // ุจุงูู ุงูููุฏ...
}
```

ุซู ูู Flutterุ ุฃุถู header ููุทูุจุงุช:

```dart
// ูู api_service.dart
if (TestConfig.isTestModeEnabled) {
  headers['x-test-mode'] = 'true';
}
```

## ุชุนุทูู ูุถุน ุงูุงุฎุชุจุงุฑ

ูุชุนุทูู ูุถุน ุงูุงุฎุชุจุงุฑ (ููุฅูุชุงุฌ):

```dart
class TestConfig {
  static const bool enableTestMode = false;  // ุชุนุทูู ูุถุน ุงูุงุฎุชุจุงุฑ
  static const bool bypassPaymentCheck = false;
  static const bool allowBookingAfter10Minutes = false;
}
```

## ุงูุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช

ููููู ุงูุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช ุงูุญุงููุฉ ูู ุฎูุงู:

```dart
print('Test Mode: ${TestConfig.isTestModeEnabled}');
print('Bypass Payment: ${TestConfig.shouldBypassPayment}');
print('Quick Booking: ${TestConfig.shouldAllowQuickBooking}');
```

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ูุง ูููู ุจุฏุก ููุงููุฉ ุงูููุฏูู

**ุงูุญููู:**
1. ุชุฃูุฏ ูู ุฃู `bypassPaymentCheck = true`
2. ุชุฃูุฏ ูู ุฃู ุงูููุนุฏ ูุคูุฏ (CONFIRMED)
3. ุชุฃูุฏ ูู ุฃู ุงูููุช ุถูู ุงููุทุงู ุงูุตุญูุญ (10 ุฏูุงุฆู ูุจู ุงูููุนุฏ ุญุชู ููุงูุชู)

### ุงููุดููุฉ: ูุง ูููู ุญุฌุฒ ููุนุฏ ุจุนุฏ 10 ุฏูุงุฆู

**ุงูุญููู:**
1. ุชุฃูุฏ ูู ุฃู `allowBookingAfter10Minutes = true`
2. ุชุฃูุฏ ูู ุฃู ุงูุทุจูุจ ูุฏูู ูุชุญุงุช ูุชุงุญุฉ ุจุนุฏ 10 ุฏูุงุฆู
3. ุชุญูู ูู ุฃู ุงูุจุงููุฏ ูุง ูุฑูุถ ุงูุญุฌุฒ (ูุฏ ุชุญุชุงุฌ ูุชุนุฏูู ุงูุจุงููุฏ)

### ุงููุดููุฉ: ุงูุจุงููุฏ ูุฑูุถ ุงูุญุฌุฒ

**ุงูุญู:**
- ุฑุงุฌุน ูุณู "ุงูุชุนุฏููุงุช ุงููุทููุจุฉ ูู ุงูุจุงููุฏ" ุฃุนูุงู
- ุฃู ุฃุถู header `x-test-mode: true` ููุทูุจุงุช ูู ูุถุน ุงูุงุฎุชุจุงุฑ

## ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ูุดุงููุ ุชุญูู ูู:
1. ููู `lib/config/test_config.dart` ููุชุฃูุฏ ูู ุงูุฅุนุฏุงุฏุงุช
2. Console logs ููุชุญูู ูู ุงูุฃุฎุทุงุก
3. Network requests ูู DevTools



